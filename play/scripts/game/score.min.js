class Score{constructor(){this.scoreDay=1,this.scoreHour=9,this.scoreMinute=0,this.totalPretzels=0,this.totalCrosswords=0,this.totalDaysAllPretzelsPicked=0,this.totalFirstAidOccurrences=0,this.totalScore=0,this.scoreSecond=0,this.pretzels=0,this.crosswords=0,this.imgPretzel=imgPretzel,this.imgClock=imgClock,this.imgClockNormal=imgClock,this.imgClockBlinking=imgClockBlinking,this.imgDay=imgDay,this.timeStepSecond=9,this.timeStepMinute=1,this.timeStepHour=1,this.dayToBeIncremented=!1,this.scoreHasBeenConsolidated=!1,this.scoreIncrementTime=0,this.scoreIncrementPretzels=0,this.scoreIncrementCrosswords=0}display(){this.displayPretzelCount(),this.displayClock()}displayPretzelCount(){image(this.imgPretzel,270,0,50,50),P5Style.pretzelCountStyle(),text(this.pretzels+"/"+pretzelQuantity,320,30)}displayClock(){P5Style.clockCountStyle(),image(this.imgDay,420,5,30,30),text(this.scoreDay,455,30),this.imgClock=16===this.scoreHour?this.imgClockBlinking:this.imgClockNormal,image(this.imgClock,width-145,7,30,30),text(this.n(this.scoreHour)+"h"+this.n(this.scoreMinute),width-110,30)}increaseScore(){this.scoreSecond+=this.timeStepSecond;60<=this.scoreSecond&&(this.scoreMinute+=this.timeStepMinute,this.scoreSecond=0,60<=this.scoreMinute&&(this.scoreHour+=this.timeStepHour,this.scoreMinute=0,17<=this.scoreHour||9>this.scoreHour?(this.timeStepSecond=60,this.timeStepMinute=3):(this.timeStepSecond=9,this.timeStepMinute=1),23<this.scoreHour?(this.dayToBeIncremented=!0,this.scoreHour=0):9===this.scoreHour&&!0===this.dayToBeIncremented&&(this.scoreDay++,this.dayToBeIncremented=!1)))}consolidateScore(){this.scoreHasBeenConsolidated||(this.scoreIncrementTime=17<=this.scoreHour||9>this.scoreHour?480*minuteScore:(60*(this.scoreHour-9)+this.scoreMinute)*minuteScore,this.scoreIncrementPretzels=this.pretzels*pretzelScore,this.scoreIncrementCrosswords=this.crosswords*crosswordScore,this.scoreIncrementAllPretzels=this.pretzels===pretzelQuantity?allPretzelsScore:0,this.scoreHasBeenConsolidated=!0)}addTimeScoreToTotal(){0<this.scoreIncrementTime&&(0<this.scoreIncrementTime-160?(this.totalScore+=160,this.scoreIncrementTime-=160):(this.totalScore+=this.scoreIncrementTime,this.scoreIncrementTime=0))}addPretzelScoreToTotal(){let a=this.pretzels*pretzelScore/30;0<this.scoreIncrementPretzels&&(0<this.scoreIncrementPretzels-a?(this.totalScore+=a,this.scoreIncrementPretzels-=a):(this.totalScore+=this.scoreIncrementPretzels,this.scoreIncrementPretzels=0))}addCrosswordScoreToTotal(){let a=this.crosswords*crosswordScore/30;0<this.scoreIncrementCrosswords&&(0<this.scoreIncrementCrosswords-a?(this.totalScore+=a,this.scoreIncrementCrosswords-=a):(this.totalScore+=this.scoreIncrementCrosswords,this.scoreIncrementCrosswords=0))}fastForward(a){let b=this.scoreMinute+a;60<=b&&(b-=60,16===this.scoreHour?(b=59,this.scoreSecond=59):this.scoreHour++),this.scoreMinute=b}increasePretzels(){this.pretzels++,this.totalPretzels++}increaseCrosswords(){this.crosswords++,this.totalCrosswords++}increaseFirstAidOccurrences(){this.totalFirstAidOccurrences++}n(a){return 9<a?""+a:"0"+a}}