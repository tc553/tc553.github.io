class Character extends Animation{constructor(a,b,c,d,e,f,g,h,i,j){super(a,b,c,d,e,f,g,h),this.initialY=height-this.characterHeight-this.offsetY,this.y=this.initialY,this.floor=this.initialY,this.gravity=2,this.jumpSpeed=0,this.jumpLimit=2,this.jumpCount=0,this.originalImg=b,this.imgDead=i,this.imgWin=j,this.originalWidth=this.characterWidth,this.originalHeight=this.characterHeight}jump(){this.jumpCount<this.jumpLimit&&(jumpTheme.play(),this.jumpSpeed=-30,this.jumpCount++)}applyGravity(){this.y+=this.jumpSpeed,this.jumpSpeed+=this.gravity,this.y>this.floor&&(this.y=this.floor,this.jumpCount=0)}isColliding(a){let b=collideRectRect(this.x,this.y,.6*this.characterWidth,.8*this.characterHeight,a.x,a.y,.6*a.characterWidth,.8*a.characterHeight);return b}changeState(a){if(a===typeDeath){if(this.jumpLimit=0,this.currentFrame=0,!isGameStopped&&(deathTheme.play(),0<life.firstAid)){setTimeout(function(){firstAidTheme.play()},500)}this.img=this.imgDead,this.lieDown()}else a===typeLevelFinish?this.img=this.imgWin:a===typeNormal&&(this.img=this.originalImg)}restart(){this.img=this.originalImg,this.standUp(),this.jumpLimit=2,this.animate()}lieDown(){this.characterWidth=this.originalHeight,this.characterHeight=this.originalWidth,this.spriteWidth=this.originalHeight,this.spriteHeight=this.originalWidth,this.floor=this.initialY+(this.originalHeight-this.originalWidth)}standUp(){this.characterWidth=this.originalWidth,this.characterHeight=this.originalHeight,this.spriteWidth=this.originalWidth,this.spriteHeight=this.originalHeight,this.floor=this.initialY}}